<form id="myForm">
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" required>
    
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>
  
    <button type="submit" onclick="submitForm()">Submit</button>
  </form>
  
  <button onclick="downloadFile()">Export</button>

  <a id="download_link" download="my_exported_file.json" style="display:none">Download</a>
  
  <script>
    // Declare the global variable
    var test1 = '[';
  
    function submitForm() {
      var form = document.getElementById('myForm');
  
      var formData = new FormData(form);
      var jsonObject = {};
  
      for (var [key, value] of formData.entries()) {
        jsonObject[key] = value;
      }
  
      var json = JSON.stringify(jsonObject);
      
      // Assign the value to the global variable
      test1 += json;
      test1 += ', \n'
      console.log(test1);
      
      // Clear the form
      form.reset();
    }
    
    function downloadFile() {
      // Strip the last comma and add the closing bracket
      test1 = test1.slice(0, -3);
      test1 += ']';
      
      // Update the download link
      var downloadLink = document.getElementById('download_link');
      var blob = new Blob([test1], { type: 'text/plain' });
      var url = URL.createObjectURL(blob);
  
      downloadLink.href = url;
      downloadLink.style.display = 'block';
    }
  </script>
  